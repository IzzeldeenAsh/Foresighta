<div class="package-sidebar" [@slideInOut] *ngIf="isVisible">
    <div class="card card-flush h-100">
      <!--begin::Header-->
      <div class="card-header pt-7">
        <h3 class="card-title align-items-start flex-column">
          <span class="card-label fw-bold text-gray-800">Package Generator</span>
          <span class="text-gray-400 mt-1 fw-semibold fs-6">Drag items or use the add button</span>
        </h3>
      </div>
      <!--end::Header-->
  
      <!--begin::Body-->
      <div class="card-body pt-5">
        <button class="btn btn-primary w-100 mb-5" (click)="addNewPackage()">
          <i class="ki-outline ki-plus fs-2"></i> Add New Package
        </button>
  
        <div class="packages-container">
          <div *ngFor="let package of packages; let i = index" class="package-item mb-7">
            <div class="card card-bordered">
              <div class="card-header">
                <h3 class="card-title">Package {{i + 1}}</h3>
              </div>
              
              <div class="card-body">
                <div class="dropzone-container" 
                pDroppable 
                (onDragEnter)="isDragging = true"
                (onDragLeave)="isDragging = false"
                (onDrop)="onDrop($event, i)"
                [ngClass]="{'dropzone-active': isDragging}">
             <div *ngIf="package.items.length === 0" class="dropzone-placeholder">
               <i class="ki-outline ki-abstract-24 fs-3x text-primary mb-3"></i>
               <div class="text-gray-600">Drop items here</div>
             </div>
           
             <div *ngFor="let item of package.items" class="package-item-card">
               <div class="d-flex align-items-center">
                 <i class="ki-outline ki-document fs-2 text-primary me-3"></i>
                 <div class="flex-grow-1">
                   <div class="fw-bold">{{item.name}}</div>
                   <div class="text-gray-600">{{item.price | currency}}</div>
                 </div>
               </div>
             </div>
           </div>
           
  
                <div class="package-summary mt-5">
                  <div class="d-flex justify-content-between mb-2">
                    <span>Discount:</span>
                    <input type="number" class="form-control form-control-sm w-100px" 
                           [(ngModel)]="package.discount" min="0" max="100">
                  </div>
                  <div class="d-flex justify-content-between">
                    <span class="fw-bold">Total:</span>
                    <span class="fw-bold text-primary">{{package.totalPrice | currency}}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--end::Body-->
    </div>
  </div>