<p-toast></p-toast>

<!-- Mobile Sidebar -->
<p-sidebar [(visible)]="isMobileSidebarVisible" position="left" [modal]="true" [showCloseIcon]="true" 
           [style]="{width: '280px'}" (onHide)="closeMobileSidebar()" 
           [class]="'mobile-sidebar'">
  <div class="mobile-nav-content">
    <div class="navigation-cards">
      <!-- Dashboard Card -->
      <div class="p-card navigation-card">
        <div class="p-card-header">
          <h3>{{ 'INSIGHTER.DASHBOARD.NAV.DASHBOARD' | translate }}</h3>
        </div>
        <div class="p-card-body">
          <div class="nav-item" [routerLink]="['my-dashboard']" *ngIf="!(isClient$ | async)" routerLinkActive="active" 
               (click)="closeMobileSidebar()">
            <div class="item-icon">
              <i class="ki-outline ki-abstract-28"></i>
            </div>
            <div class="item-label">
              {{ 'INSIGHTER.DASHBOARD.NAV.OVERVIEW' | translate }}
            </div>
          </div>
          <div class="nav-item" [routerLink]="['my-requests']" routerLinkActive="active" *ngIf="!(isClient$ | async)"
               (click)="closeMobileSidebar()">
            <div class="item-icon">
              <i class="ki-outline ki-question-2"></i>
            </div>
            <div class="item-label">
              {{ 'INSIGHTER.DASHBOARD.NAV.MY_REQUESTS' | translate }}
            </div>
          </div>
          <div class="nav-item" [routerLink]="['my-knowledge']" routerLinkActive="active"  *ngIf="!(isClient$ | async)"
               (click)="closeMobileSidebar()">
            <div class="item-icon">
            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M1.23926 0.25H4.78125C5.32661 0.25 5.77033 0.693936 5.77051 1.23926V15.7607C5.77033 16.3061 5.32661 16.75 4.78125 16.75H1.23926C0.694045 16.7498 0.250177 16.306 0.25 15.7607V1.23926C0.250177 0.694045 0.694045 0.250177 1.23926 0.25Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M7.2601 3.79175H10.4476C10.993 3.79175 11.4377 4.23568 11.4378 4.78101V15.7605C11.4378 16.306 10.9931 16.7498 10.4476 16.7498H7.2601C6.71478 16.7496 6.27084 16.3059 6.27084 15.7605V4.78101C6.27102 4.23579 6.71489 3.79192 7.2601 3.79175Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M12.9268 8.04175H15.7607C16.306 8.04192 16.7498 8.48579 16.75 9.03101V15.7605C16.75 16.3059 16.3061 16.7496 15.7607 16.7498H12.9268C12.3814 16.7496 11.9375 16.3059 11.9375 15.7605V9.03101C11.9377 8.48579 12.3815 8.04192 12.9268 8.04175Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M3.01041 2.375C3.16559 2.375 3.29166 2.50107 3.29166 2.65625V12.2188C3.29166 12.3739 3.16559 12.5 3.01041 12.5C2.85523 12.5 2.72916 12.3739 2.72916 12.2188V2.65625C2.72916 2.50107 2.85523 2.375 3.01041 2.375Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M2.47916 14.0625H3.54166C3.69684 14.0625 3.82291 14.1886 3.82291 14.3438C3.82291 14.4989 3.69684 14.625 3.54166 14.625H2.47916C2.32398 14.625 2.19791 14.4989 2.19791 14.3438C2.19791 14.1886 2.32398 14.0625 2.47916 14.0625Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M8.85416 5.91675C9.00934 5.91675 9.13541 6.04282 9.13541 6.198V12.2185C9.13541 12.3737 9.00934 12.4998 8.85416 12.4998C8.69898 12.4998 8.57291 12.3737 8.57291 12.2185V6.198C8.57291 6.04282 8.69898 5.91675 8.85416 5.91675Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M8.32291 14.0625H9.38541C9.54059 14.0625 9.66666 14.1886 9.66666 14.3438C9.66666 14.4989 9.54059 14.625 9.38541 14.625H8.32291C8.16773 14.625 8.04166 14.4989 8.04166 14.3438C8.04166 14.1886 8.16773 14.0625 8.32291 14.0625Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M14.3438 10.1667C14.4989 10.1667 14.625 10.2928 14.625 10.448V12.2185C14.625 12.3737 14.4989 12.4998 14.3438 12.4998C14.1886 12.4998 14.0625 12.3737 14.0625 12.2185V10.448C14.0625 10.2928 14.1886 10.1667 14.3438 10.1667Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M13.8125 14.0625H14.875C15.0302 14.0625 15.1562 14.1886 15.1562 14.3438C15.1562 14.4989 15.0302 14.625 14.875 14.625H13.8125C13.6573 14.625 13.5313 14.4989 13.5312 14.3438C13.5312 14.1886 13.6573 14.0625 13.8125 14.0625Z" stroke="#3799FF" stroke-width="0.5"/>
  </svg>

            </div>
            <div class="item-label">
              {{ 'INSIGHTER.DASHBOARD.NAV.MY_KNOWLEDGE' | translate }}
            </div>
          </div>
          <div class="nav-item" [routerLink]="['my-downloads']" routerLinkActive="active"
               (click)="closeMobileSidebar()">
            <div class="item-icon">
              <i class="ki-outline ki-file-down"></i>
            </div>
            <div class="item-label">
              {{ 'INSIGHTER.DASHBOARD.NAV.MY_DOWNLOADS' | translate }}
            </div>
          </div>
          <div class="nav-item" [routerLink]="['read-later']" routerLinkActive="active"
               (click)="closeMobileSidebar()">
            <div class="item-icon">
              <i class="ki-outline ki-bookmark"></i>
            </div>
            <div class="item-label">
              {{ 'INSIGHTER.DASHBOARD.NAV.READ_LATER' | translate }}
            </div>
          </div>
          <!-- Meetings Expandable Item -->
          <div class="nav-item expandable" [class.expanded]="isMeetingsExpanded">
            <div class="nav-item-main" (click)="toggleMeetings()">
              <div class="item-icon">
                <i class="ki-outline ki-calendar"></i>
              </div>
              <div class="item-label">
                {{ 'INSIGHTER.DASHBOARD.NAV.MEETINGS' | translate }}
              </div>
              <div class="expand-icon">
                <i class="ki-outline ki-down"></i>
              </div>
            </div>
            <div class="sub-nav" [class.show]="isMeetingsExpanded">
              <div class="sub-nav-item"  [routerLink]="['my-consulting-schedule']" routerLinkActive="active" *ngIf="!(isClient$ | async)"
                   (click)="closeMobileSidebar()">
                <div class="sub-item-icon">
                  <i class="ki-outline ki-calendar"></i>
                </div>
                <div class="sub-item-label">
                  {{ 'INSIGHTER.DASHBOARD.NAV.MY_CONSULTING_SCHEDULE' | translate }}
                </div>
              </div>
              <div class="sub-nav-item" [routerLink]="['my-meetings/received']" routerLinkActive="active"  *ngIf="!(isClient$ | async)"
                   (click)="closeMobileSidebar()">
                <div class="sub-item-icon">
                  <i class="ki-outline ki-message-text-2"></i>
                </div>
                <div class="sub-item-label">
                  {{ 'INSIGHTER.MEETINGS.TABS.RECEIVED' | translate }}
                </div>
              </div>
              <div class="sub-nav-item" [routerLink]="['my-meetings/sent']" routerLinkActive="active"
                   (click)="closeMobileSidebar()">
                <div class="sub-item-icon">
                  <i class="ki-outline ki-send"></i>
                </div>
                <div class="sub-item-label">
                  {{ 'INSIGHTER.MEETINGS.TABS.SENT' | translate }}
                </div>
              </div>
            </div>
          </div>
         
          <div class="nav-item" [routerLink]="['my-company-settings']" routerLinkActive="active" *ngIf="hasCompanyRole$ | async"
               (click)="closeMobileSidebar()">
            <div class="item-icon">
              <i class="ki-outline ki-people"></i>
            </div>
            <div class="item-label">
              {{ 'INSIGHTER.DASHBOARD.NAV.MY_COMPANY' | translate }}
            </div>
          </div>
          
          <!-- Settings Expandable Item -->
          <div class="nav-item expandable" [class.expanded]="isSettingsExpanded">
            <div class="nav-item-main" (click)="toggleSettings()">
              <div class="item-icon">
                <i class="ki-outline ki-setting-2"></i>
              </div>
              <div class="item-label">
                {{ 'INSIGHTER.DASHBOARD.NAV.SETTINGS' | translate }}
              </div>
              <div class="expand-icon">
                <i class="ki-outline ki-down"></i>
              </div>
            </div>
            <div class="sub-nav" [class.show]="isSettingsExpanded">
              <div class="sub-nav-item" [routerLink]="['account-settings/payment-settings']" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
                   (click)="closeMobileSidebar()">
                <div class="sub-item-icon">
                  <i class="ki-outline ki-credit-cart"></i>
                </div>
                <div class="sub-item-label">
                  {{ 'INSIGHTER.DASHBOARD.NAV.PAYMENT_SETTINGS' | translate }}
                </div>
              </div>
              <div class="sub-nav-item" [routerLink]="['account-settings/general-settings']" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" *ngIf="!(isClient$ | async)"
                   (click)="closeMobileSidebar()">
                <div class="sub-item-icon">
                  <i class="ki-outline ki-user-edit"></i>
                </div>
                <div class="sub-item-label">
                  {{ 'INSIGHTER.DASHBOARD.NAV.ACCOUNT_SETTINGS' | translate }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</p-sidebar>

<div class="flex-column flex-row-fluid pt-sm-160px" id="kt_app_wrapper" > 
  <div id="kt_app_toolbar" class="app-toolbar d-none d-sm-block"  style="padding-top: 90px;">
    <div
      id="kt_app_toolbar_container"
      class="app-container container-xxl d-flex align-items-start"
     
    >
      <div class=" flex-column flex-row-fluid d-flex">
   
        <!-- here header or statistics -->
        <app-overview-statistics *ngIf="isRouteActive('my-dashboard')"></app-overview-statistics>
        <app-requests-statistics *ngIf="isRouteActive('my-requests')"></app-requests-statistics>
        <app-knowledge-statistics *ngIf="isRouteActive('my-knowledge')"></app-knowledge-statistics>
        <app-downloads-statistics *ngIf="isRouteActive('my-downloads')"></app-downloads-statistics>
        <app-read-later-statistics *ngIf="isRouteActive('read-later')"></app-read-later-statistics>
        <app-meetings-statistics *ngIf="isRouteActive('my-meetings') && !isSubRouteActive('my-meetings', 'sent')"></app-meetings-statistics>
        <app-sent-meetings-statistics *ngIf="isSubRouteActive('my-meetings', 'sent')"></app-sent-meetings-statistics>
        <app-consulting-schedule-header *ngIf="isRouteActive('my-consulting-schedule')"></app-consulting-schedule-header>
        <app-account-settings-header *ngIf="isRouteActive('account-settings')"></app-account-settings-header>
        <app-company-statistics *ngIf="isRouteActive('my-company-settings') && (hasCompanyRole$ | async)"></app-company-statistics>
      </div>
    </div>
  </div>

  <div class="app-container w-100 pt-sm-30px">
    <div class="app-main flex-column flex-row-fluid">
      <div class="d-flex flex-column flex-column-fluid">
        <div class="d-flex flex-column flex-sm-row">
          
          <!-- Desktop Side Navigation (hidden on mobile) -->
          <div class="side-nav-container" [class.collapsed]="isNavCollapsed" *ngIf="!isMobileView">
            <div class="navigation-cards">
              <!-- Dashboard Card -->
              <div class="p-card navigation-card">
                <div class="p-card-header">
                  <h3 *ngIf="!isNavCollapsed">{{ 'INSIGHTER.DASHBOARD.NAV.DASHBOARD' | translate }}</h3>
                  <!-- Collapse Toggle Button -->
                  <button type="button" class="nav-toggle-btn btn btn-sm btn-icon btn-active-color-primary" (click)="toggleNavCollapse()" 
                          [attr.title]="isNavCollapsed ? 'Expand Menu' : 'Collapse Menu'">
                    <i class="ki-outline ki-burger-menu fs-2 text-info"></i>
                  </button>
                </div>
                <div class="p-card-body">
                  <div class="nav-item"   [routerLink]="['my-dashboard']" routerLinkActive="active" 
                       [attr.title]="isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.OVERVIEW' | translate) : null"
                       pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.OVERVIEW' | translate) : '' }}"
                       tooltipPosition="right"
                       appendTo="body">
                    <div class="item-icon">
                      <i class="ki-outline ki-abstract-28"></i>
                    </div>
                    <div class="item-label" *ngIf="!isNavCollapsed">
                      {{ 'INSIGHTER.DASHBOARD.NAV.OVERVIEW' | translate }}
                    </div>
                  </div>
                  <div class="nav-item" [routerLink]="['my-requests']" routerLinkActive="active" *ngIf="!(isClient$ | async)"
                       [attr.title]="isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.MY_REQUESTS' | translate) : null"
                       pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.MY_REQUESTS' | translate) : '' }}"
                       tooltipPosition="right"
                       appendTo="body">
                    <div class="item-icon">
                      <i class="ki-outline ki-question-2"></i>
                    </div>
                    <div class="item-label" *ngIf="!isNavCollapsed">
                      {{ 'INSIGHTER.DASHBOARD.NAV.MY_REQUESTS' | translate }}
                    </div>
                  </div>
                  <div class="nav-item" [routerLink]="['my-knowledge']" routerLinkActive="active"  *ngIf="!(isClient$ | async)"
                       [attr.title]="isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.MY_KNOWLEDGE' | translate) : null"
                       pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.MY_KNOWLEDGE' | translate) : '' }}"
                       tooltipPosition="right"
                       appendTo="body">
                    <div class="item-icon">
                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M1.23926 0.25H4.78125C5.32661 0.25 5.77033 0.693936 5.77051 1.23926V15.7607C5.77033 16.3061 5.32661 16.75 4.78125 16.75H1.23926C0.694045 16.7498 0.250177 16.306 0.25 15.7607V1.23926C0.250177 0.694045 0.694045 0.250177 1.23926 0.25Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M7.2601 3.79175H10.4476C10.993 3.79175 11.4377 4.23568 11.4378 4.78101V15.7605C11.4378 16.306 10.9931 16.7498 10.4476 16.7498H7.2601C6.71478 16.7496 6.27084 16.3059 6.27084 15.7605V4.78101C6.27102 4.23579 6.71489 3.79192 7.2601 3.79175Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M12.9268 8.04175H15.7607C16.306 8.04192 16.7498 8.48579 16.75 9.03101V15.7605C16.75 16.3059 16.3061 16.7496 15.7607 16.7498H12.9268C12.3814 16.7496 11.9375 16.3059 11.9375 15.7605V9.03101C11.9377 8.48579 12.3815 8.04192 12.9268 8.04175Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M3.01041 2.375C3.16559 2.375 3.29166 2.50107 3.29166 2.65625V12.2188C3.29166 12.3739 3.16559 12.5 3.01041 12.5C2.85523 12.5 2.72916 12.3739 2.72916 12.2188V2.65625C2.72916 2.50107 2.85523 2.375 3.01041 2.375Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M2.47916 14.0625H3.54166C3.69684 14.0625 3.82291 14.1886 3.82291 14.3438C3.82291 14.4989 3.69684 14.625 3.54166 14.625H2.47916C2.32398 14.625 2.19791 14.4989 2.19791 14.3438C2.19791 14.1886 2.32398 14.0625 2.47916 14.0625Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M8.85416 5.91675C9.00934 5.91675 9.13541 6.04282 9.13541 6.198V12.2185C9.13541 12.3737 9.00934 12.4998 8.85416 12.4998C8.69898 12.4998 8.57291 12.3737 8.57291 12.2185V6.198C8.57291 6.04282 8.69898 5.91675 8.85416 5.91675Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M8.32291 14.0625H9.38541C9.54059 14.0625 9.66666 14.1886 9.66666 14.3438C9.66666 14.4989 9.54059 14.625 9.38541 14.625H8.32291C8.16773 14.625 8.04166 14.4989 8.04166 14.3438C8.04166 14.1886 8.16773 14.0625 8.32291 14.0625Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M14.3438 10.1667C14.4989 10.1667 14.625 10.2928 14.625 10.448V12.2185C14.625 12.3737 14.4989 12.4998 14.3438 12.4998C14.1886 12.4998 14.0625 12.3737 14.0625 12.2185V10.448C14.0625 10.2928 14.1886 10.1667 14.3438 10.1667Z" stroke="#3799FF" stroke-width="0.5"/>
  <path d="M13.8125 14.0625H14.875C15.0302 14.0625 15.1562 14.1886 15.1562 14.3438C15.1562 14.4989 15.0302 14.625 14.875 14.625H13.8125C13.6573 14.625 13.5313 14.4989 13.5312 14.3438C13.5312 14.1886 13.6573 14.0625 13.8125 14.0625Z" stroke="#3799FF" stroke-width="0.5"/>
  </svg>

                    </div>
                    <div class="item-label" *ngIf="!isNavCollapsed">
                      {{ 'INSIGHTER.DASHBOARD.NAV.MY_KNOWLEDGE' | translate }}
                    </div>
                  </div>
                  <div class="nav-item" [routerLink]="['my-downloads']" routerLinkActive="active"
                       [attr.title]="isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.MY_DOWNLOADS' | translate) : null"
                       pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.MY_DOWNLOADS' | translate) : '' }}"
                       tooltipPosition="right"
                       appendTo="body">
                    <div class="item-icon">
                      <i class="ki-outline ki-file-down"></i>
                    </div>
                    <div class="item-label" *ngIf="!isNavCollapsed">
                      {{ 'INSIGHTER.DASHBOARD.NAV.MY_DOWNLOADS' | translate }}
                    </div>
                  </div>
                  <div class="nav-item" [routerLink]="['read-later']" routerLinkActive="active"
                       [attr.title]="isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.READ_LATER' | translate) : null"
                       pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.READ_LATER' | translate) : '' }}"
                       tooltipPosition="right"
                       appendTo="body">
                    <div class="item-icon">
                      <i class="ki-outline ki-bookmark"></i>
                    </div>
                    <div class="item-label" *ngIf="!isNavCollapsed">
                      {{ 'INSIGHTER.DASHBOARD.NAV.READ_LATER' | translate }}
                    </div>
                  </div>
                  <div class="nav-item" [routerLink]="['my-meetings/sent']" routerLinkActive="active" *ngIf="!isNavCollapsed && (isClient$ | async)"
                       [attr.title]="isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.SENT' | translate) : null"
                       pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.SENT' | translate) : '' }}"
                       tooltipPosition="right"
                       appendTo="body">
                    <div class="item-icon">
                      <i class="ki-outline ki-calendar"></i>
                    </div>
                    <div class="item-label" >
                        {{ 'INSIGHTER.DASHBOARD.NAV.MEETINGS' | translate }}
                    </div>
                  </div>
                  <!-- Meetings Expandable Item -->
                  <div class="nav-item expandable" [class.expanded]="isMeetingsExpanded" *ngIf="!isNavCollapsed && !(isClient$ | async)">
                    <div class="nav-item-main" (click)="toggleMeetings()">
                      <div class="item-icon">
                        <i class="ki-outline ki-calendar"></i>
                      </div>
                      <div class="item-label">
                        {{ 'INSIGHTER.DASHBOARD.NAV.MEETINGS' | translate }}
                      </div>
                      <div class="expand-icon">
                        <i class="ki-outline ki-down"></i>
                      </div>
                    </div>
                    <div class="sub-nav" [class.show]="isMeetingsExpanded">
                      <div class="sub-nav-item"  [routerLink]="['my-consulting-schedule']" routerLinkActive="active" *ngIf="!(isClient$ | async)"
                      pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.MY_CONSULTING_SCHEDULE' | translate) : '' }}"
                      tooltipPosition="right"
                      appendTo="body">
                        <div class="sub-item-icon">
                          <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.66669 1.16669V2.91669" stroke="#9C9FA1" stroke-width="0.875" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9.33331 1.16669V2.91669" stroke="#9C9FA1" stroke-width="0.875" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2.04169 5.30249H11.9584" stroke="#9C9FA1" stroke-width="0.875" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M11.2058 9.19919L9.14084 11.2642C9.05918 11.3459 8.98333 11.4975 8.96583 11.6084L8.855 12.3959C8.81416 12.6817 9.0125 12.88 9.29834 12.8392L10.0858 12.7284C10.1967 12.7109 10.3542 12.635 10.43 12.5534L12.495 10.4884C12.8508 10.1325 13.02 9.71836 12.495 9.19336C11.9758 8.6742 11.5617 8.84335 11.2058 9.19919Z" stroke="#9C9FA1" stroke-width="0.875" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10.9084 9.4967C11.0834 10.1267 11.5734 10.6167 12.2034 10.7917" stroke="#9C9FA1" stroke-width="0.875" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 12.8334H4.66667C2.625 12.8334 1.75 11.6667 1.75 9.91669V4.95835C1.75 3.20835 2.625 2.04169 4.66667 2.04169H9.33333C11.375 2.04169 12.25 3.20835 12.25 4.95835V7.00002" stroke="#9C9FA1" stroke-width="0.875" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6.99739 7.99168H7.00263" stroke="#9C9FA1" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4.83833 7.99168H4.84357" stroke="#9C9FA1" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4.83833 9.74168H4.84357" stroke="#9C9FA1" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            
                        </div>
                        <div class="sub-item-label">
                          {{ 'INSIGHTER.DASHBOARD.NAV.MY_CONSULTING_SCHEDULE' | translate }}
                        </div>
                      </div>
                      <div class="sub-nav-item" [routerLink]="['my-meetings/received']" routerLinkActive="active"  *ngIf="!(isClient$ | async)"
                      pTooltip="{{ isNavCollapsed ? ('INSIGHTER.MEETINGS.TABS.RECEIVED' | translate) : '' }}"
                      tooltipPosition="right"
                      appendTo="body">
                        <div class="sub-item-icon">
                          <i class="ki-outline ki-message-text-2"></i>
                        </div>
                        <div class="sub-item-label">
                          {{ 'INSIGHTER.MEETINGS.TABS.RECEIVED' | translate }}
                        </div>
                      </div>
                      <div class="sub-nav-item" [routerLink]="['my-meetings/sent']" routerLinkActive="active"
                      pTooltip="{{ isNavCollapsed ? ('INSIGHTER.MEETINGS.TABS.SENT' | translate) : '' }}"
                      tooltipPosition="right"
                      appendTo="body">
                        <div class="sub-item-icon">
                          <i class="ki-outline ki-send"></i>
                        </div>
                        <div class="sub-item-label">
                          {{ 'INSIGHTER.MEETINGS.TABS.SENT' | translate }}
                        </div>
                      </div>
                     
                    </div>
                  </div>
                  
                  <!-- Collapsed Meeting Items (shown as separate items when collapsed) -->
                  <div *ngIf="isNavCollapsed">
                    <div class="nav-item" [routerLink]="['my-consulting-schedule']" routerLinkActive="active" 
                         *ngIf="!(isClient$ | async)" [attr.title]="('INSIGHTER.DASHBOARD.NAV.MY_CONSULTING_SCHEDULE' | translate)"
                         pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.MY_CONSULTING_SCHEDULE' | translate) : '' }}"
                         tooltipPosition="right"
                         appendTo="body">
                      <div class="item-icon">
                        <i class="ki-outline ki-calendar"></i>
                      </div>
                    </div>
                    <div class="nav-item" [routerLink]="['my-meetings/received']" routerLinkActive="active" 
                         *ngIf="!(isClient$ | async)" [attr.title]="('INSIGHTER.MEETINGS.TABS.RECEIVED' | translate)"
                         pTooltip="{{ isNavCollapsed ? ('INSIGHTER.MEETINGS.TABS.RECEIVED' | translate) : '' }}"
                         tooltipPosition="right"
                         appendTo="body">
                      <div class="item-icon">
                        <i class="ki-outline ki-message-text-2"></i>
                      </div>
                    </div>
                    <div class="nav-item" [routerLink]="['my-meetings/sent']" routerLinkActive="active"
                         [attr.title]="('INSIGHTER.MEETINGS.TABS.SENT' | translate)"
                         pTooltip="{{ isNavCollapsed ? ('INSIGHTER.MEETINGS.TABS.SENT' | translate) : '' }}"
                         tooltipPosition="right"
                         appendTo="body">
                      <div class="item-icon">
                        <i class="ki-outline ki-send"></i>
                      </div>
                    </div>
                  </div>
                 
                  <div class="nav-item" [routerLink]="['my-company-settings']" routerLinkActive="active" *ngIf="hasCompanyRole$ | async"
                       [attr.title]="isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.MY_COMPANY' | translate) : null"
                       pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.MY_COMPANY' | translate) : '' }}"
                       tooltipPosition="right"
                       appendTo="body">
                    <div class="item-icon">
                      <i class="ki-outline ki-people"></i>
                    </div>
                    <div class="item-label" *ngIf="!isNavCollapsed">
                      {{ 'INSIGHTER.DASHBOARD.NAV.MY_COMPANY' | translate }}
                    </div>
                  </div>
                  
                  <!-- Settings Expandable Item -->
                  <div class="nav-item expandable" [class.expanded]="isSettingsExpanded" *ngIf="!isNavCollapsed">
                    <div class="nav-item-main" (click)="toggleSettings()">
                      <div class="item-icon">
                        <i class="ki-outline ki-setting-2"></i>
                      </div>
                      <div class="item-label">
                        {{ 'INSIGHTER.DASHBOARD.NAV.SETTINGS' | translate }}
                      </div>
                      <div class="expand-icon">
                        <i class="ki-outline ki-down"></i>
                      </div>
                    </div>
                    <div class="sub-nav" [class.show]="isSettingsExpanded">
                      <div *ngIf="(isInsighter$ | async) || (isCompany$ | async)" class="sub-nav-item" [routerLink]="['account-settings/payment-settings']" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
                      pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.PAYMENT_SETTINGS' | translate) : '' }}"
                      tooltipPosition="right"
                      appendTo="body">
                        <div class="sub-item-icon">
                          <i class="ki-outline ki-credit-cart"></i>
                        </div>
                        <div class="sub-item-label">
                          {{ 'INSIGHTER.DASHBOARD.NAV.PAYMENT_SETTINGS' | translate }}
                        </div>
                      </div>
                      <div class="sub-nav-item" [routerLink]="['account-settings/general-settings']" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" *ngIf="!(isClient$ | async)"
                      pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.ACCOUNT_SETTINGS' | translate) : '' }}"
                      tooltipPosition="right"
                      appendTo="body">
                        <div class="sub-item-icon">
                          <i class="ki-outline ki-user-edit"></i>
                        </div>
                        <div class="sub-item-label">
                          {{ 'INSIGHTER.DASHBOARD.NAV.ACCOUNT_SETTINGS' | translate }}
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Collapsed Settings Items (shown as separate items when collapsed) -->
                  <div *ngIf="isNavCollapsed">
                    <div class="nav-item" [routerLink]="['account-settings/payment-settings']" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
                         [attr.title]="('INSIGHTER.DASHBOARD.NAV.PAYMENT_SETTINGS' | translate)"
                         pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.PAYMENT_SETTINGS' | translate) : '' }}"
                         tooltipPosition="right"
                         appendTo="body">
                      <div class="item-icon">
                        <i class="ki-outline ki-credit-cart"></i>
                      </div>
                    </div>
                    <div class="nav-item" [routerLink]="['account-settings/general-settings']" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
                         *ngIf="!(isClient$ | async)" [attr.title]="('INSIGHTER.DASHBOARD.NAV.ACCOUNT_SETTINGS' | translate)"
                         pTooltip="{{ isNavCollapsed ? ('INSIGHTER.DASHBOARD.NAV.ACCOUNT_SETTINGS' | translate) : '' }}"
                         tooltipPosition="right"
                         appendTo="body">
                      <div class="item-icon">
                        <i class="ki-outline ki-setting-2"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Mobile Menu Toggle Button (visible only on mobile) -->
          <div class="mobile-menu-toggle" *ngIf="isMobileView">
            <button type="button" class="btn btn-icon btn-active-color-primary" (click)="toggleNavCollapse()">
              <i class="ki-outline ki-burger-menu fs-2 text-info"></i>
            </button>
          </div>

          <!-- Main Content Area -->
          <div class="main-content-area flex-fill" [ngClass]="{'pe-5': !isRouteActive('my-company-settings'), 'pe-2': isRouteActive('my-company-settings')}">
                <router-outlet></router-outlet>
          </div>
          
        </div>
      </div>
    </div>
  </div>

  <app-footer></app-footer>
</div>
