
  <!-- Validation Error Template -->
  <ng-template #formError let-control="control" let-message="message" let-validation="validation">
    <ng-container *ngIf="control.hasError(validation) && (control.dirty || control.touched)">
      <div class="fv-plugins-message-container">
        <div class="fv-help-block text-inline-start">
          <span role="alert">{{ message }}</span>
        </div>
      </div>
    </ng-container>
  </ng-template>
  <!-- NEWWW -->

  <div class="d-flex flex-column flex-root bg-light h-100vh" id="kt_app_root">
    <!--begin::Page bg image-->

<!--end::Page bg image-->

<!--begin::Authentication - Sign-up -->
<div class="d-flex flex-column flex-column-fluid flex-lg-row ">
    <!--begin::Aside-->
    <div class="d-flex flex-center w-lg-50 pt-15 pt-lg-0 px-10 mil-up">              
        <!--begin::Aside-->
        <div class="d-flex flex-center flex-lg-start flex-column">              
            <!--begin::Logo-->
            <a href="/metronic8/demo60/index.html" class="mb-7">
              <img alt="Logo" src="../../../../../assets/media/logos/dark-logo-full.svg" class="h-70px"> 
            </a>    
            <!--end::Logo-->            

            <!--begin::Title-->
            <h2 class="text-white fw-normal m-0"> 
                Branding tools designed for your business
            </h2>  
            <!--end::Title-->         
        </div>
        <!--begin::Aside-->    
    </div>
    <!--begin::Aside-->

    <!--begin::Body-->
    <div class="d-flex flex-column-fluid flex-lg-row-auto justify-content-center justify-content-lg-end p-12 p-lg-20 mil-up">
        <!--begin::Card-->
        <div class="bg-body d-flex flex-column align-items-stretch flex-center rounded-4 w-md-600px p-20">
            <!--begin::Wrapper-->
            <div class="d-flex flex-center flex-column flex-column-fluid px-lg-10 pb-15 pb-lg-20">
                
<!--begin::Form-->
<form
[formGroup]="registrationForm"
(ngSubmit)="onSubmit()"
class="form w-100 fv-plugins-bootstrap5 fv-plugins-framework"
novalidate
id="kt_sign_up_form"
data-kt-redirect-url="/metronic8/demo62/authentication/layouts/corporate/sign-in.html"
>
<!-- Heading -->
<div class="text-center mb-11">
  <h1 class="text-gray-900 fw-bolder mb-3">Sign Up</h1>
  <div class="text-gray-500 fw-semibold fs-6">
    Your Social Campaigns
  </div>
</div>
<!-- Login options -->
<div class="row g-3 mb-9">
  <div class="col-md-6">
    <a (click)="signInWithGoogle($event)" class="btn btn-flex btn-outline btn-text-gray-700 btn-active-color-primary bg-state-light flex-center text-nowrap w-100">
      <img alt="Google Logo" src="../../../../../assets/media/svg/brand-logos/google-icon.svg" class="h-15px me-3" />
      Sign in with Google
    </a>
  </div>
  <div class="col-md-6">
    <a (click)="signInWithLinkedIn($event)"  class="btn btn-flex btn-outline btn-text-gray-700 btn-active-color-primary bg-state-light flex-center text-nowrap w-100">
      <img alt="LinkedIn Logo" src="../../../../../assets/media/svg/brand-logos/linkedin-2.svg" class="theme-light-show h-15px me-3" />
      <img alt="Apple Logo" src="../../../../../assets/media/svg/brand-logos/apple-black-dark.svg" class="theme-dark-show h-15px me-3" />
      Sign in with LinkedIn
    </a>
  </div>
</div>
<!-- Separator -->
<div class="separator separator-content my-14">
  <span class="w-125px text-gray-500 fw-semibold fs-7">Or with email</span>
</div>
<!-- Input Groups -->
<div class="row mb-4">
  <!-- First Name -->
  <div class="col-12 col-md-6 mb-4">

    <input
      pInputText
      type="text"
      name="firstName"
      formControlName="firstName"
      class="w-100 form-control"
      placeholder="{{ 'AUTH.REGISTRATION.FIRSTNAME_PLACEHOLDER' | translate }}"
      autocomplete="off"
      [ngClass]="{
        'is-invalid': 
          registrationForm.controls['firstName'].invalid &&
          (registrationForm.controls['firstName'].dirty || registrationForm.controls['firstName'].touched)
      }"
    />
    <!-- Validation Errors -->
    <ng-container
      [ngTemplateOutlet]="formError"
      [ngTemplateOutletContext]="{
        validation: 'required',
        message: 'AUTH.REGISTRATION.FIRSTNAME_REQUIRED' | translate,
        control: registrationForm.controls['firstName']
      }"
    ></ng-container>
   
    <ng-container
      [ngTemplateOutlet]="formError"
      [ngTemplateOutletContext]="{
        validation: 'maxlength',
        message: 'AUTH.REGISTRATION.FIRSTNAME_MAXLENGTH' | translate,
        control: registrationForm.controls['firstName']
      }"
    ></ng-container>
  </div>
  <!-- Last Name -->
  <div class="col-12 col-md-6 mb-4">

    <input
      pInputText
      type="text"
      name="lastName"
      formControlName="lastName"
      class="w-100 form-control"
      placeholder="{{ 'AUTH.REGISTRATION.LASTNAME_PLACEHOLDER' | translate }}"
      autocomplete="off"
      [ngClass]="{
        'is-invalid': 
          registrationForm.controls['lastName'].invalid &&
          (registrationForm.controls['lastName'].dirty || registrationForm.controls['lastName'].touched)
      }"
    />
    <!-- Validation Errors -->
    <ng-container
      [ngTemplateOutlet]="formError"
      [ngTemplateOutletContext]="{
        validation: 'required',
        message: 'AUTH.REGISTRATION.LASTNAME_REQUIRED' | translate,
        control: registrationForm.controls['lastName']
      }"
    ></ng-container>
    <ng-container
      [ngTemplateOutlet]="formError"
      [ngTemplateOutletContext]="{
        validation: 'minlength',
        message: 'AUTH.REGISTRATION.LASTNAME_MINLENGTH' | translate,
        control: registrationForm.controls['lastName']
      }"
    ></ng-container>
    <ng-container
      [ngTemplateOutlet]="formError"
      [ngTemplateOutletContext]="{
        validation: 'maxlength',
        message: 'AUTH.REGISTRATION.LASTNAME_MAXLENGTH' | translate,
        control: registrationForm.controls['lastName']
      }"
    ></ng-container>
  </div>
</div>
<!-- Email -->
<div class="fv-row mb-8 fv-plugins-icon-container">
  <input
    type="email"
    placeholder="Email"
    name="email"
    formControlName="email"
    autocomplete="off"
    class="form-control bg-transparent"
    [ngClass]="{
      'is-invalid':
        registrationForm.controls['email'].invalid &&
        (registrationForm.controls['email'].dirty || registrationForm.controls['email'].touched)
    }"
  />
  <!-- Validation Errors -->
  <ng-container
    [ngTemplateOutlet]="formError"
    [ngTemplateOutletContext]="{
      validation: 'required',
      message: 'AUTH.REGISTRATION.EMAIL_REQUIRED' | translate,
      control: registrationForm.controls['email']
    }"
  ></ng-container>
  <ng-container
    [ngTemplateOutlet]="formError"
    [ngTemplateOutletContext]="{
      validation: 'email',
      message: 'AUTH.REGISTRATION.EMAIL_INVALID' | translate,
      control: registrationForm.controls['email']
    }"
  ></ng-container>
</div>
<!-- Password -->
<div class="fv-row mb-8 fv-plugins-icon-container">
    <div class="mb-1">
      <div class="position-relative mb-3">
        <input
          class="form-control bg-transparent"
          [type]="showPassword ? 'text' : 'password'"
          placeholder="Password"
          name="password"
          formControlName="password"
          autocomplete="off"
          [ngClass]="{
            'is-invalid':
              registrationForm.controls['password'].invalid &&
              (registrationForm.controls['password'].dirty || registrationForm.controls['password'].touched)
          }"
        />
        <span
          class="btn btn-sm btn-icon position-absolute translate-middle top-50 end-0 me-n2"
          (click)="togglePasswordVisibility()"
          type="button"
        >
          <i class="ki-outline" [ngClass]="{
            'ki-eye-slash fs-2': !showPassword,
            'ki-eye fs-3': showPassword
          }"></i>
        </span>
      </div>
    </div>
    
    <!-- Validation Errors -->
    <ng-container
      [ngTemplateOutlet]="formError"
      [ngTemplateOutletContext]="{
        validation: 'required',
        message: 'AUTH.REGISTRATION.PASSWORD_REQUIRED' | translate,
        control: registrationForm.controls['password']
      }"
    ></ng-container>
    <ng-container
      [ngTemplateOutlet]="formError"
      [ngTemplateOutletContext]="{
        validation: 'pattern',
        message: 'AUTH.REGISTRATION.PASSWORD_PATTERN' | translate,
        control: registrationForm.controls['password']
      }"
    ></ng-container>
  </div>
<!-- Country (Optional) -->
<div class="fv-row mb-8 fv-plugins-icon-container">

  <p-progressBar
    *ngIf="isLoadingCountries$ | async"
    mode="indeterminate"
    [style]="{ height: '4px' }"
  ></p-progressBar>
  <p-dropdown
    *ngIf="(isLoadingCountries$ | async) === false"
    [options]="countries"
    formControlName="country"
    class="d-block form-p-control"
    optionLabel="name.en"
    placeholder="{{ 'AUTH.REGISTRATION.COUNTRY_PLACEHOLDER' | translate }}"
    [filter]="true"
    [showClear]="true"
  >
    <ng-template pTemplate="item" let-country>
      <div class="country-option">
        <img *ngIf="country.showFlag"
        [src]="country.flagPath"
        (error)="onFlagError(country)"
        alt="{{ country.name.en }}"
        class="flag-icon w-20px mx-2" />
   
        <span>{{ country.name.en }}</span>
      </div>
    </ng-template>
  </p-dropdown>
</div>
<!-- Submit Button -->
<div class="d-grid mb-10">

  <button
  type="submit"
  id="kt_sign_up_submit"
  [disabled]="registrationForm.invalid || (isLoadingSubmit$ | async) "
  
  class="btn btn-primary"
>
  <ng-container *ngIf="(isLoadingSubmit$ | async) === false">
    <span class="indicator-label">{{
      "AUTH.REGISTRATION.SUBMIT" | translate
    }}</span>
  </ng-container>
  <ng-container *ngIf="isLoadingSubmit$ | async">
    <span class="indicator-progress" [style.display]="'block'">
      {{ "AUTH.REGISTRATION.PLEASE_WAIT" | translate }}
      <span
        class="spinner-border spinner-border-sm align-middle ms-2"
      ></span>
    </span>
  </ng-container>
</button>
</div>
<!-- Sign in Link -->
<div class="text-gray-500 text-center fw-semibold fs-6">
  Already have an Account?
  <a routerLink="/auth/login" class="link-primary fw-semibold">
    Sign in
  </a>
</div>
</form>
<!--end::Form--> 

            </div>
            <!--end::Wrapper-->

        </div>
        <!--end::Card-->
    </div>
    <!--end::Body-->
</div>
<!--end::Authentication - Sign-up--></div>